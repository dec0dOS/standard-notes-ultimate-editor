{"version":3,"sources":["lib/BridgeManager.js","lib/theme.js","lib/Alert.js","lib/utils.js","LocalEditor.jsx","App.jsx","index.jsx"],"names":["BridgeManager","this","instance","constructor","updateObservers","initiateBridge","addUpdateObserver","callback","observer","push","notifyObserversOfUpdate","getNote","note","componentRelay","ComponentRelay","targetWindow","window","options","coallesedSavingDelay","onReady","document","documentElement","classList","add","platform","streamContextItem","save","saveItemWithPresave","light","fontFamily","fontFamilyMono","fontWeight","zIndex","link","placeholder","textSecondary","textLight","textHighlight","selected","codeComment","codePunctuation","codeNumber","codeProperty","codeTag","codeString","codeSelector","codeAttr","codeEntity","codeKeyword","codeFunction","codeStatement","codePlaceholder","codeInserted","codeImportant","blockToolbarBackground","blockToolbarTrigger","blockToolbarTriggerIcon","blockToolbarItem","blockToolbarText","blockToolbarHoverBackground","blockToolbarDivider","noticeInfoBackground","noticeInfoText","noticeTipBackground","noticeTipText","noticeWarningBackground","noticeWarningText","background","text","code","cursor","divider","toolbarBackground","toolbarInput","toolbarItem","tableDivider","tableSelected","tableSelectedBackground","quote","codeBackground","codeBorder","horizontalRule","imageErrorBackground","Alert","title","buttons","keyupListener","event","key","primaryButton","action","dismiss","buttonsString","map","buttonDesc","index","url","style","genButton","join","templateString","buttonsTemplate","panelStyle","onElement","removeChild","element","removeEventListener","primary","find","button","length","present","body","createElement","className","innerHTML","trim","addEventListener","forEach","querySelector","onclick","appendChild","navigator","userAgent","toLowerCase","indexOf","test","openLinkDesktop","invisibleA","display","href","target","click","remove","openLinkMobile","open","LocalEditor","React","Component","props","super","onChange","debounce","value","state","content","setState","get","componentDidMount","refresh","uuid","isMetadataUpdate","updateMarkdown","markdown","replace","getNoteContents","render","autoFocus","bind","theme","onClickLink","preventDefault","ctrlKey","metaKey","_reactName","onHoverLink","embeds","App","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ae7a0c85.chunk.js","sourcesContent":["import ComponentRelay from '@standardnotes/component-relay'\n\nexport default class BridgeManager {\n    /* Singleton */\n    static instance = null;\n    static get () {\n      if (this.instance == null) { this.instance = new BridgeManager() }\n      return this.instance\n    }\n\n    constructor () {\n      this.updateObservers = []\n      this.initiateBridge()\n    }\n\n    addUpdateObserver (callback) {\n      const observer = { callback: callback }\n      this.updateObservers.push(observer)\n      return observer\n    }\n\n    notifyObserversOfUpdate () {\n      for (const observer of this.updateObservers) {\n        observer.callback()\n      }\n    }\n\n    getNote () {\n      return this.note\n    }\n\n    initiateBridge () {\n      this.componentRelay = new ComponentRelay({\n        targetWindow: window,\n        options: {\n          coallesedSavingDelay: 200\n        },\n        onReady: () => {\n          // On ready and permissions authorization\n          document.documentElement.classList.add(this.componentRelay.platform)\n        }\n      })\n\n      this.componentRelay.streamContextItem((note) => {\n        this.note = note\n\n        this.notifyObserversOfUpdate()\n      })\n    }\n\n    save () {\n      if (this.note) {\n        let note = this.note\n\n        // if (note.content && note.content.text) {\n        //     note.content.text = note.content.text.replace(/\\n\\\\/g, '\\n');\n        // }\n\n        this.componentRelay.saveItemWithPresave(note, () => {\n          note = this.note\n        })\n      }\n    }\n}\n","export const base = {\n  fontFamily:\n        'var(--sn-stylekit-sans-serif-font)',\n  fontFamilyMono:\n        'var(--sn-stylekit-monospace-font)',\n  fontWeight: 400,\n  zIndex: 100,\n  link: 'var(--sn-stylekit-info-color)',\n  placeholder: 'var(--sn-stylekit-input-placeholder-color)',\n  textSecondary: '#4E5C6E',\n  textLight: 'var(--sn-stylekit-paragraph-text-color)',\n  textHighlight: '#ff0',\n  selected: 'var(--sn-stylekit-info-color)',\n  codeComment: 'var(--sn-stylekit-secondary-foreground-color)',\n  codePunctuation: 'var(--sn-stylekit-contrast-backround-color)',\n  codeNumber: '#d73a49',\n  codeProperty: '#c08b30',\n  codeTag: '#3d8fd1',\n  codeString: 'var(--sn-stylekit-success-color)',\n  codeSelector: '#6679cc',\n  codeAttr: '#c76b29',\n  codeEntity: '#22a2c9',\n  codeKeyword: 'var(--sn-stylekit-info-color)',\n  codeFunction: '#6f42c1',\n  codeStatement: '#22a2c9',\n  codePlaceholder: '#3d8fd1',\n  codeInserted: '#202746',\n  codeImportant: '#c94922',\n\n  blockToolbarBackground: 'var(--sn-stylekit-contrast-background-color)',\n  blockToolbarTrigger: 'var(--sn-stylekit-info-color)',\n  blockToolbarTriggerIcon: 'var(--sn-stylekit-paragraph-text-color)',\n  blockToolbarItem: 'var(--sn-stylekit-paragraph-text-color)',\n  blockToolbarText: 'var(--sn-stylekit-paragraph-text-color)',\n  blockToolbarHoverBackground: 'var(--sn-stylekit-neutral-contrast-color)',\n  blockToolbarDivider: 'var(--sn-stylekit-paragraph-text-color)',\n\n  noticeInfoBackground: 'var(--sn-stylekit-info-color)',\n  noticeInfoText: 'var(--sn-stylekit-info-contrast-color)',\n  noticeTipBackground: 'var(--sn-stylekit-success-color)',\n  noticeTipText: 'var(--sn-stylekit-success-contrast-color)',\n  noticeWarningBackground: 'var(--sn-stylekit-warning-color)',\n  noticeWarningText: 'var(--sn-stylekit-warning-contrast-color)'\n}\n\nexport const light = {\n  ...base,\n  background: 'transparent',\n  text: 'var(--sn-stylekit-paragraph-text-color)',\n  code: 'var(--sn-stylekit-secondary-foreground-color)',\n  cursor: 'var(--sn-stylekit-contrast-foreground-color)',\n  divider: 'var(--sn-stylekit--secondary-contrast-border-color)',\n\n  toolbarBackground: 'var(--sn-stylekit-secondary-background-color)',\n  toolbarInput: 'var(--sn-stylekit-secondary-background-color)',\n  toolbarItem: 'var(--sn-stylekit-paragraph-text-color)',\n\n  tableDivider: 'var(--sn-stylekit-secondary-foreground-color)',\n  tableSelected: 'var(--sn-stylekit-secondary-foreground-color)',\n  tableSelectedBackground: 'var(--sn-stylekit-contrast-background-color)',\n\n  quote: 'var(--sn-stylekit-secondary-foreground-color)',\n  codeBackground: 'var(--sn-stylekit-secondary-background-color)',\n  codeBorder: 'var(--sn-stylekit-secondary-foreground-color)',\n  horizontalRule: 'var(--sn-stylekit-input-placeholder-color)',\n  imageErrorBackground: 'var(--sn-stylekit-neutral-color)'\n}\n\nexport default light\n","// Modified SKAlert from StyleKit\n\nexport default class Alert {\n  /*\n    buttons: [{text, style, action}]\n    */\n  constructor ({ title, text, buttons }) {\n    this.title = title\n    this.text = text\n    this.buttons = buttons\n  }\n\n  buttonsString () {\n    const genButton = function (buttonDesc, index) {\n      if (buttonDesc.url) {\n        return `\n                <a href='${buttonDesc.url}' target=\"_blank\">\n              <div id='button-${index}' class='sk-button ${buttonDesc.style}'>\n                <div class='sk-label'>${buttonDesc.text}</div>\n              </div>\n                </a>\n            `\n      } else {\n        return `\n          <div id='button-${index}' class='sk-button ${buttonDesc.style}'>\n            <div class='sk-label'>${buttonDesc.text}</div>\n          </div>\n        `\n      }\n    }\n\n    const buttonString = this.buttons.map(function (buttonDesc, index) {\n      return genButton(buttonDesc, index)\n    }).join('')\n\n    const str = `\n        <div class='sk-button-group'>\n          ${buttonString}\n        </div>\n      `\n    return str\n  }\n\n  templateString () {\n    let buttonsTemplate\n    let panelStyle\n    if (this.buttons) {\n      buttonsTemplate = `\n          <div class=\"sk-panel-row\" style='margin-top: 8px;'>\n            ${this.buttonsString()}\n          </div>\n        `\n      panelStyle = ''\n    } else {\n      buttonsTemplate = ''\n      panelStyle = 'style=\"padding-bottom: 8px\"'\n    }\n    const titleTemplate = this.title ? `<div class='sk-h3 sk-panel-section-title'>${this.title}</div>` : ''\n    const messageTemplate = this.text ? `<p class='sk-p'>${this.text}</p>` : ''\n\n    const template = `\n        <div class=\"sk-modal\">\n          <div class=\"sk-modal-background\"></div>\n          <div class=\"sk-modal-content\">\n            <div class=\"sn-component\">\n              <div class=\"sk-panel\">\n                <div class=\"sk-panel-content\" ${panelStyle}>\n                  <div class=\"sk-panel-section\">\n                    ${titleTemplate}\n  \n                    <div class=\"sk-panel-row\">\n                      ${messageTemplate}\n                    </div>\n  \n                    ${buttonsTemplate}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `\n\n    return template\n  }\n\n  dismiss () {\n    this.onElement.removeChild(this.element)\n    document.removeEventListener('keyup', this.keyupListener)\n  }\n\n  primaryButton () {\n    let primary = this.buttons.find((button) => button.primary === true)\n    if (!primary) {\n      primary = this.buttons[this.buttons.length - 1]\n    }\n    return primary\n  }\n\n    keyupListener = (event) => {\n      if (event.key === 'Enter') {\n        const primaryButton = this.primaryButton()\n        primaryButton.action && primaryButton.action()\n        this.dismiss()\n      }\n    }\n\n    present (onElement = null) {\n      if (!onElement) { onElement = document.body }\n\n      this.onElement = onElement\n\n      this.element = document.createElement('div')\n      this.element.className = 'sn-component'\n      this.element.innerHTML = this.templateString().trim()\n\n      if (this.buttons) {\n        document.addEventListener('keyup', this.keyupListener)\n\n        this.buttons.forEach((buttonDesc, index) => {\n          const buttonElem = this.element.querySelector(`#button-${index}`)\n          buttonElem.onclick = () => {\n            buttonDesc.action && buttonDesc.action()\n            this.dismiss()\n          }\n        })\n      }\n\n      onElement.appendChild(this.element)\n    }\n}\n","import Alert from './Alert'\n\nfunction linkify(inputText) {\n    // URLs starting with http://, https://\n    const replacePattern = /(\\b(^https?):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim\n    const replacedText = inputText.replace(replacePattern, '<$1>')\n\n    return replacedText\n}\n\nfunction getPlatform() {\n    const userAgent = navigator.userAgent.toLowerCase()\n\n    if (userAgent.indexOf(' electron/') > -1) {\n        return 'Desktop'\n    } else if (\n        (/(Version\\/\\d+.*\\/\\d+.0.0.0 Mobile|; ?wv|(iPhone|iPad|Macintosh).*AppleWebKit(?!.*Safari))/i\n            .test(navigator.userAgent))\n    ) {\n        if ((navigator.userAgent.indexOf('iP') > -1) || (navigator.userAgent.indexOf('Macintosh') > -1)) {\n            return 'iOS'\n        } else { return 'Android' }\n    } else {\n        return 'Browser'\n    }\n}\n\nconst platform = getPlatform()\n\nfunction openLinkDesktop(url) {\n    // more compatible way to open links\n    const invisibleA = document.createElement('a')\n\n    invisibleA.style.display = 'none'\n    invisibleA.href = url\n    invisibleA.target = '_blank'\n\n    document.body.appendChild(invisibleA)\n\n    invisibleA.click()\n    invisibleA.remove()\n}\n\nfunction openLinkMobile(url) {\n    if (platform === 'iOS') {\n        var buttons = [\n            {\n                text: 'CANCEL',\n                style: 'info',\n                action:\n                    function () { }\n            },\n            {\n                text: 'OPEN',\n                url: url,\n                style: 'info',\n                action:\n                    function () { }\n            }\n        ]\n    } else { // Android\n        var buttons = [\n            {\n                text: 'CANCEL',\n                style: 'info',\n                action:\n                    function () { }\n            },\n            {\n                text: 'OPEN',\n                url: '',\n                style: 'info',\n                action:\n                    function () { window.open(url, '_blank') }\n            }\n        ]\n    }\n    const alert = new Alert({ title: 'Open Link', text: 'Do you want to open <u>' + url + '</u> ?', buttons })\n    alert.present()\n}\n\nexport { linkify, openLinkDesktop, openLinkMobile, platform }\n","import React from 'react';\nimport RichMarkdownEditor from \"rich-markdown-editor\";\nimport { debounce } from \"lodash\";\n\nimport BridgeManager from \"./lib/BridgeManager\";\nimport theme from './lib/theme';\n// import youtube_embed from './embeds/YouTube';\n\nimport { linkify, openLinkDesktop, openLinkMobile, platform } from './lib/utils';\n\n\nexport default class LocalEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n        BridgeManager.get().addUpdateObserver(() => {\n            const note = BridgeManager.get().getNote();\n            const refresh = !this.state.note\n                || (this.state.note && this.state.note.uuid !== note.uuid);\n            this.setState({\n                note: BridgeManager.get().getNote(),\n            });\n            if (refresh) {\n                if (note.isMetadataUpdate) { return; }\n\n                this.updateMarkdown();\n            }\n        });\n    }\n\n    updateMarkdown() {\n        let markdown = this.state.note.content.text\n        // onload replace links\n        markdown = linkify(markdown)\n        //     .replace(/(\\n{2})(\\n+)/g, (m, p, q) => p + q.replace(/(\\n)/g, '\\\\$1'));\n        // if (markdown === \"\") {\n        //     markdown = \"\\n\";\n        // }\n\n        this.setState({ markdown });\n    }\n\n    onChange = debounce((value) => {\n        const text = value();\n        if (this.state.note) {\n            let note = this.state.note;\n            note.content.text = text;\n            this.setState({ note: note });\n        }\n        BridgeManager.get().save();\n    })\n\n    getNoteContents() {\n        if (this.state.note) {\n            return this.state.note.content.text;\n        }\n        return '';\n    }\n\n    render() {\n        return (\n            <div>\n                <RichMarkdownEditor\n                    value={this.state.markdown}\n                    placeholder=\"\"\n                    autoFocus\n                    onChange={this.onChange.bind(this)}\n                    theme={theme}\n                    className=\"editor\"\n                    onClickLink={(href, event) => {\n                        // mobile RMe popup\n                        if (!(platform == \"Desktop\" || platform == \"Browser\")) {\n                            event.preventDefault();\n                            openLinkMobile(href);\n                        }\n                        else {\n                            // desktop CTRL/CMD+click\n                            if (event.ctrlKey || event.metaKey) {\n                                openLinkDesktop(href);\n                            } else {\n                                // desktop RMe popup\n                                if (event._reactName === \"onClick\") {\n                                    openLinkDesktop(href);\n                                }\n                            }\n                        }\n                    }}\n                    onHoverLink={event => {\n                        // mobile click on link\n                        if (!(platform == \"Desktop\" || platform == \"Browser\")) {\n                            event.preventDefault();\n                            openLinkMobile(event.target.href);\n                        }\n                    }}\n                    embeds={[\n                        // youtube_embed,\n                    ]}\n                />\n            </div>\n        );\n    }\n}","import './app.scss';\n\nimport React from 'react';\nimport LocalEditor from './LocalEditor';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <LocalEditor />\n        </div>\n    );\n}\n\nexport default App;\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}